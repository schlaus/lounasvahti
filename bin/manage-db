#!/usr/bin/env bash

SCRIPT_DIR="$(dirname "$(realpath "$0")")"
PROJECT_ROOT="$(realpath "$SCRIPT_DIR/..")"
VENV_PYTHON="$PROJECT_ROOT/venv/bin/python"
DB_SCRIPT="$PROJECT_ROOT/scripts/manage_db.py"

if [[ ! -f "$VENV_PYTHON" ]]; then
    echo "[ERROR] Virtual environment not found. Did you create it?"
    exit 1
fi

# Ensure Python can find lounasvahti
export PYTHONPATH="$PROJECT_ROOT"

exec "$VENV_PYTHON" "$DB_SCRIPT" "$@"
